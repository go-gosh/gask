(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d25642"],{9478:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return l})),i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return o}));var a=i("b775");function n(t){return Object(a["a"])({url:"/milestone",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/milestone",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/milestone/"+t,method:"put",data:e})}function r(t){return Object(a["a"])({url:"/milestone/"+t,method:"delete"})}function o(t){return Object(a["a"])({url:"/milestone/"+t,method:"get"})}},a434:function(t,e,i){"use strict";var a=i("23e7"),n=i("23cb"),l=i("a691"),s=i("50c4"),r=i("7b0b"),o=i("65f0"),c=i("8418"),d=i("1dde"),u=i("ae40"),p=d("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var i,a,d,u,p,f,v=r(this),y=s(v.length),w=n(t,y),_=arguments.length;if(0===_?i=a=0:1===_?(i=0,a=y-w):(i=_-2,a=h(m(l(e),0),y-w)),y+i-a>g)throw TypeError(b);for(d=o(v,a),u=0;u<a;u++)p=w+u,p in v&&c(d,u,v[p]);if(d.length=a,i<a){for(u=w;u<y-a;u++)p=u+a,f=u+i,p in v?v[f]=v[p]:delete v[f];for(u=y;u>y-a+i;u--)delete v[u-1]}else if(i>a)for(u=y-a;u>w;u--)p=u+a-1,f=u+i-1,p in v?v[f]=v[p]:delete v[f];for(u=0;u<i;u++)v[u+w]=arguments[u+2];return v.length=y-a+i,d}})},bbc2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" Add ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),i("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.title)+" ")]}}])}),i("el-table-column",{attrs:{label:"Progress",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-progress",{attrs:{percentage:Math.min(Math.round(t.row.progress/t.row.point*100),100)}})]}}])}),i("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:e.row.point>e.row.progress?"gray":"success"}},[t._v(t._s(e.row.point>e.row.progress?">>>":"DONE"))])]}}])}),i("el-table-column",{attrs:{align:"center",prop:"startedAt",label:"Started At",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-time"}),i("span",[t._v(t._s(e.row.startedAt))])]}}])}),i("el-table-column",{attrs:{align:"center",prop:"deadline",label:"Deadline",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.deadline?i("i",{staticClass:"el-icon-time"}):t._e(),i("span",[t._v(t._s(e.row.deadline))])]}}])}),i("el-table-column",{attrs:{label:"Actions",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,n=e.$index;return[i("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleDetail(a)}}},[t._v(" Detail ")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(a)}}},[t._v(" Edit ")]),a.isDeleted?t._e():i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(a,n)}}},[t._v(" Delete ")])]}}])})],1),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,"current-page":t.listQuery.page,"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,100]},on:{"update:currentPage":function(e){return t.$set(t.listQuery,"page",e)},"update:current-page":function(e){return t.$set(t.listQuery,"page",e)},"update:pageSize":function(e){return t.$set(t.listQuery,"pageSize",e)},"update:page-size":function(e){return t.$set(t.listQuery,"pageSize",e)},"size-change":t.fetchData,"current-change":t.fetchData}}),i("el-dialog",{attrs:{title:"Create",visible:t.dialog.visible},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.temp,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:"Title",prop:"title"}},[i("el-input",{model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),i("el-form-item",{attrs:{label:"Point"}},[i("el-input-number",{attrs:{"controls-position":"right",min:1,max:500,step:10},model:{value:t.temp.point,callback:function(e){t.$set(t.temp,"point",e)},expression:"temp.point"}})],1),i("el-form-item",{attrs:{label:"Started At",prop:"startedAt"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date"},model:{value:t.temp.startedAt,callback:function(e){t.$set(t.temp,"startedAt",e)},expression:"temp.startedAt"}})],1),i("el-form-item",{attrs:{label:"Deadline",prop:"deadline"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date"},model:{value:t.temp.deadline,callback:function(e){t.$set(t.temp,"deadline",e)},expression:"temp.deadline"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog.visible=!1}}},[t._v(" Cancel ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialog.status?t.createData():t.updateData()}}},[t._v(" Confirm ")])],1)],1)],1)},n=[],l=(i("a434"),i("c740"),i("9478")),s={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listQuery:{page:1,pageSize:10},total:0,listLoading:!0,dialog:{status:"",visible:!1},temp:void 0}},created:function(){this.resetTemp(),this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(l["c"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},resetTemp:function(){this.temp={id:void 0,title:"",point:100,startedAt:new Date,deadline:void 0}},handleCreate:function(){var t=this;this.resetTemp(),this.dialog.status="create",this.dialog.visible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.temp.timestamp=new Date(this.temp.timestamp),this.dialog.status="update",this.dialog.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleDelete:function(t,e){var i=this;Object(l["b"])(t.id).then((function(){i.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),i.list.splice(e,1)}))},handleDetail:function(t){this.$router.push("/milestoneDetail/"+t.id)},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var i=Object.assign({},t.temp);Object(l["e"])(i.id,i).then((function(){var e=t.list.findIndex((function(e){return e.id===t.temp.id}));t.list.splice(e,1,t.temp),t.dialog.visible=!1,t.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(l["a"])(t.temp).then((function(e){t.temp.id=e.data.id,t.list.unshift(t.temp),t.dialog.visible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})}))}))}}},r=s,o=i("2877"),c=Object(o["a"])(r,a,n,!1,null,null,null);e["default"]=c.exports},c740:function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").findIndex,l=i("44d2"),s=i("ae40"),r="findIndex",o=!0,c=s(r);r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o||!c},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),l(r)}}]);