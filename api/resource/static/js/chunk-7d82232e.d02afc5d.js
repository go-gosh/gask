(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d82232e"],{9478:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return l})),i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return r}));var n=i("b775");function a(t){return Object(n["a"])({url:"/milestone",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/milestone",method:"post",data:t})}function l(t,e){return Object(n["a"])({url:"/milestone/"+t,method:"put",data:e})}function o(t){return Object(n["a"])({url:"/milestone/"+t,method:"delete"})}function r(t){return Object(n["a"])({url:"/milestone/"+t,method:"get"})}},dc46:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Milestone (ID: "+t._s(t.milestone.id)+")")]),i("div",[i("span",[t._v("Title: ")]),i("i",[t._v(t._s(t.milestone.title))])]),i("div",[i("span",[t._v("Progress/Point: ")]),i("i",[t._v(t._s(t.milestone.progress)+"/"+t._s(t.milestone.point))])]),i("div",[i("span",[t._v("Started At: ")]),i("i",[t._v(t._s(t.milestone.startedAt))])]),i("div",[i("span",[t._v("Deadline: ")]),t.milestone.deadline?i("i",[t._v(t._s(t.milestone.deadline))]):i("i",[t._v("-")])]),i("div",[i("span",[t._v("Created At: ")]),i("i",[t._v(t._s(t.milestone.createdAt))])]),i("div",[i("span",[t._v("Updated At: ")]),i("i",[t._v(t._s(t.milestone.updatedAt))])])],1),i("br"),i("div",{staticClass:"filter-container"},[i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-back"},on:{click:t.handleBack}},[t._v(" Go back ")]),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v(" Add ")])],1),i("br"),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),i("el-table-column",{attrs:{label:"Content"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.content)+" ")]}}])}),i("el-table-column",{attrs:{label:"Point",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:"primary"}},[t._v(" "+t._s(e.row.point)+" ")]),i("i",{staticClass:"el-icon-coin"})]}}])}),i("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{type:e.row.checkedAt?"success":"gray"}},[t._v(t._s(e.row.checkedAt?"DONE":">>>"))])]}}])}),i("el-table-column",{attrs:{align:"center",prop:"joinedAt",label:"Joined At",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-time"}),i("span",[t._v(t._s(e.row.joinedAt))])]}}])}),i("el-table-column",{attrs:{align:"center",prop:"checkedAt",label:"Checked At",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.checkedAt?i("i",{staticClass:"el-icon-time"}):t._e(),i("span",[t._v(t._s(e.row.checkedAt))])]}}])}),i("el-table-column",{attrs:{label:"Actions",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,a=e.$index;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(n)}}},[t._v(" Edit ")]),n.isDeleted?t._e():i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(n,a)}}},[t._v(" Delete ")])]}}])})],1),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,"current-page":t.listQuery.page,"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,100]},on:{"update:currentPage":function(e){return t.$set(t.listQuery,"page",e)},"update:current-page":function(e){return t.$set(t.listQuery,"page",e)},"update:pageSize":function(e){return t.$set(t.listQuery,"pageSize",e)},"update:page-size":function(e){return t.$set(t.listQuery,"pageSize",e)},"size-change":t.fetchData,"current-change":t.fetchData}}),i("el-dialog",{attrs:{title:"Create",visible:t.dialog.visible},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.temp,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:"Content",prop:"content"}},[i("el-input",{model:{value:t.temp.content,callback:function(e){t.$set(t.temp,"content",e)},expression:"temp.content"}})],1),i("el-form-item",{attrs:{label:"Point"}},[i("el-input-number",{attrs:{"controls-position":"right",min:1,max:500,step:10},model:{value:t.temp.point,callback:function(e){t.$set(t.temp,"point",e)},expression:"temp.point"}})],1),i("el-form-item",{attrs:{label:"Joined At",prop:"joinedAt"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date"},model:{value:t.temp.joinedAt,callback:function(e){t.$set(t.temp,"joinedAt",e)},expression:"temp.joinedAt"}})],1),i("el-form-item",{attrs:{label:"Checked At",prop:"checkedAt"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date"},model:{value:t.temp.checkedAt,callback:function(e){t.$set(t.temp,"checkedAt",e)},expression:"temp.checkedAt"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog.visible=!1}}},[t._v(" Cancel ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialog.status?t.createData():t.updateData()}}},[t._v(" Confirm ")])],1)],1)],1)},a=[],s=i("b775");function l(t){return Object(s["a"])({url:"/checkpoint",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/checkpoint",method:"post",data:t})}function r(t,e){return Object(s["a"])({url:"/checkpoint/"+t,method:"put",data:e})}function c(t){return Object(s["a"])({url:"/checkpoint/"+t,method:"delete"})}var d=i("9478"),u={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listQuery:{milestoneId:void 0,timestamp:new Date,page:1,pageSize:10,orderBy:"-diff"},total:0,listLoading:!0,dialog:{status:"",visible:!1},temp:void 0,milestone:{}}},created:function(){this.listQuery.milestoneId=parseInt(this.$route.params.id),this.resetTemp(),this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(d["d"])(this.listQuery.milestoneId).then((function(e){t.milestone=e.data})),l(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1}))},resetTemp:function(){this.temp={id:void 0,milestoneId:this.listQuery.milestoneId,content:"",point:10,joinedAt:new Date,checkedAt:void 0}},handleCreate:function(){var t=this;this.resetTemp(),this.dialog.status="create",this.dialog.visible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.temp.timestamp=new Date(this.temp.timestamp),this.dialog.status="update",this.dialog.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},handleDelete:function(t,e){var i=this;c(t.id).then((function(){i.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),i.fetchData()}))},handleDetail:function(t){this.$router.push("/milestoneDetail/"+t.id)},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var i=Object.assign({},t.temp);i.checkedAt&&(i.isChecked=!0),r(i.id,i).then((function(){t.fetchData(),t.dialog.visible=!1,t.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},handleBack:function(){this.$router.push("/milestone")},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&o(t.temp).then((function(e){t.fetchData(),t.dialog.visible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})}))}))}}},p=u,m=i("2877"),f=Object(m["a"])(p,n,a,!1,null,null,null);e["default"]=f.exports}}]);